<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="/fontawesome-free-6.0.0-web/fontawesome-free-6.0.0-web/css/all.css">
    
    <link rel="stylesheet" href="/css/style.css">
    <title>Cadastro de Livro</title>
  
</head>
<body>


	 <!-- MENU -->
<nav class="menu">
  <ol>
    <li class="menu-item"><a th:href="@{/livraria/home/}">Home</a></li>
    <li class="menu-item">
      <a href="#0">Livro</a>
      <ol class="sub-menu">
        <li class="menu-item"><a th:href="@{/livraria/cadastroLivro/}">Cadastrar</a></li>
        <li class="menu-item"><a th:href="@{/livraria/listarLivro/}">Listar</a></li>
      </ol>
    </li>
    <li class="menu-item">
      <a href="#0">Cliente</a>
      <ol class="sub-menu">
        <li class="menu-item"><a th:href="@{/livraria/cadastroCliente/}">Cadastrar</a></li>
        <li class="menu-item"><a th:href="@{/livraria/listarCliente/}">Listar</a></li>
      </ol>
    </li>
    <li class="menu-item">
      <a href="#0">Funcionario</a>
      <ol class="sub-menu">
        <li class="menu-item"><a th:href="@{/livraria/cadastroFuncionario/}">Cadastrar</a></li>
        <li class="menu-item"><a th:href="@{/livraria/listarFuncionario/}">Listar</a></li>
      </ol>
    </li>
  </ol>
</nav>
    
     <!-- FORMULARIO -->
	<header>
     <div class="login-page">
        <h2 id="form"> Cadastro de Livro</h2>
        <div class="form">
          <form class="login-form" action ="/livraria/salvarLivro"  method ="POST" th:object = "${livro}"
          		enctype="multipart/form-data">
          		
        <!-- ALERTA DE SUCESSO --> 
		
		<div class="alert alert-success" role="alert"
			 th:if="${!#strings.isEmpty(mensagem)}">
			<span th:text="${mensagem}"></span>
		</div>
		
        
        <!-- ALERTA DE ERRO -->  
        
        <div class="alert alert-danger" role="alert"
			 th:if="${#fields.hasAnyErrors()}">
		     <div th:each="detailedError : ${#fields.detailedErrors()}">
		     	<span th:text="${detailedError.message}"></span>
		     </div>
		</div>
                
		
		
            <input type="hidden" th:field="*{codigo}">
            <input type="text"   th:field="*{titulo}"            placeholder="Titulo"/>
            <input type="text"   th:field="*{autor}"             placeholder="Autor">
            <input type="text"   th:field="*{isbn}"              placeholder="ISBN">
            <input type="text"   th:field="*{preco}"             placeholder="PreÃ§o"/>
            <input type="file"   name="imagem" placeholder="Imagem"/>
             
             <button th:if="${livro.codigo == null}" th:text="'Cadastrar'"></button>
             <button th:unless="${livro.codigo == null}" th:text="'Atualizar'"></button>
            
          </form>
        </div>
      </div>
      </header>
    
      <script src="/js/index.js"/></script>
      <src="/js/bootstrap.min.js"/> 

</body>
</html>